import{_ as y,r as S,a as c,c as B,b as d,d as o,w as s,e as t,u as I,o as M,f as N,g,E as h}from"./index-_es1C3IU.js";const C={class:"login-container"},D={class:"login-right"},q={__name:"index",setup(E){const v=I(),l=S({username:"",password:""}),r=c(!1),i=c(!1),w={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},f=localStorage.getItem("credentials");if(f){const{username:n,password:e}=JSON.parse(f);l.username=n,l.password=e,r.value=!0}const m=c(null),p=async()=>{if(m.value)try{await m.value.validate(),i.value=!0,setTimeout(()=>{localStorage.setItem("token","mock-token"),r.value?localStorage.setItem("credentials",JSON.stringify({username:l.username,password:l.password})):localStorage.removeItem("credentials"),i.value=!1,h.success("登录成功"),v.push("/dashboard")},1e3)}catch(n){console.error("表单验证失败:",n)}};return(n,e)=>{const _=t("el-input"),u=t("el-form-item"),x=t("el-button"),b=t("el-checkbox"),V=t("el-form"),k=t("el-card");return M(),B("div",C,[e[6]||(e[6]=d("div",{class:"login-left"},[d("img",{src:"https://images.unsplash.com/photo-1738249034650-6a789a081a04?q=80&w=4335&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"登录页背景图"})],-1)),d("div",D,[o(k,{class:"login-card"},{default:s(()=>[e[5]||(e[5]=d("h2",{class:"title"},"系统登录",-1)),o(V,{ref_key:"formRef",ref:m,model:l,rules:w,class:"login-form"},{default:s(()=>[o(u,null,{default:s(()=>[o(_,{modelValue:l.username,"onUpdate:modelValue":e[0]||(e[0]=a=>l.username=a),placeholder:"用户名","prefix-icon":"el-icon-user"},null,8,["modelValue"])]),_:1}),o(u,null,{default:s(()=>[o(_,{modelValue:l.password,"onUpdate:modelValue":e[1]||(e[1]=a=>l.password=a),type:"password",placeholder:"密码","prefix-icon":"el-icon-lock",onKeyup:N(p,["enter"])},null,8,["modelValue"])]),_:1}),o(u,null,{default:s(()=>[o(x,{loading:i.value,type:"primary",class:"login-button",onClick:p},{default:s(()=>e[3]||(e[3]=[g(" 登录 ")])),_:1},8,["loading"])]),_:1}),o(u,null,{default:s(()=>[o(b,{modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=a=>r.value=a)},{default:s(()=>e[4]||(e[4]=[g("记住密码")])),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1})])])}}},R=y(q,[["__scopeId","data-v-35781c64"]]);export{R as default};
