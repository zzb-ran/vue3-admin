import{_ as S,a as o,h as B,c as l,b as m,v as M,d,w as y,e as p,x as z,F as f,s as h,E as A,u as D,o as n,g as E,t as N,j as P}from"./index-_es1C3IU.js";import{t as r,f as F}from"./tmdb-C6tL0TM8.js";import{M as R}from"./MediaCard-BdcOkRh8.js";const U={class:"tv-container"},j={class:"category-tabs"},I={class:"tvs-grid"},L={class:"pagination"},O={__name:"tv",setup(q){D();const v=o([]),i=o(!1),s=o(1),k=o(20),_=o(0),u=o("popular"),g=[{key:"popular",label:"热门",api:r.getPopular},{key:"airing_today",label:"今日播出",api:r.getAiringToday},{key:"on_the_air",label:"正在播出",api:r.getOnTheAir},{key:"top_rated",label:"高分",api:r.getTopRated}],c=async()=>{i.value=!0;try{const t=g.find(a=>a.key===u.value);if(t){const a=await t.api(s.value);v.value=a.data.results.map(F),_.value=a.data.total_results}}catch(t){console.error("获取电视剧列表失败:",t),A.error("获取电视剧列表失败")}finally{i.value=!1}},b=t=>{s.value=t,c()},C=()=>{s.value=1,c()};return B(()=>{c()}),(t,a)=>{const x=p("el-radio-button"),w=p("el-radio-group"),T=p("el-pagination"),V=z("loading");return n(),l("div",U,[m("div",j,[d(w,{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e),onChange:C},{default:y(()=>[(n(),l(f,null,h(g,e=>d(x,{key:e.key,label:e.key},{default:y(()=>[E(N(e.label),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),M((n(),l("div",I,[(n(!0),l(f,null,h(v.value,e=>(n(),P(R,{key:e.id,media:e},null,8,["media"]))),128))])),[[V,i.value]]),m("div",L,[d(T,{"current-page":s.value,"onUpdate:currentPage":a[1]||(a[1]=e=>s.value=e),"page-size":k.value,total:_.value,layout:"prev, pager, next",onCurrentChange:b},null,8,["current-page","page-size","total"])])])}}},K=S(O,[["__scopeId","data-v-2d832aa6"]]);export{K as default};
