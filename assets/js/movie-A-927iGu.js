import{_ as B,a as o,h as N,c as r,b as m,v as P,d as p,w as y,e as d,x as z,F as f,s as k,E as D,u as E,o as s,g as U,t as F,j as R}from"./index-DeZBs9YJ.js";import{m as i,a as S}from"./tmdb-BbYNbO-2.js";import{M as T}from"./MediaCard-Dw_7FO3K.js";const j={class:"movie-container"},A={class:"category-tabs"},I={class:"movies-grid"},L={class:"pagination"},q={__name:"movie",setup(G){E();const g=o([]),u=o(!1),l=o(1),b=o(20),v=o(0),n=o("popular"),_=[{key:"popular",label:"热门",api:i.getPopular},{key:"now_playing",label:"正在上映",api:i.getNowPlaying},{key:"upcoming",label:"即将上映",api:i.getUpcoming},{key:"top_rated",label:"高分",api:i.getTopRated}],c=async()=>{u.value=!0;try{const a=_.find(t=>t.key===n.value);if(a){const t=await a.api(l.value);g.value=t.data.results.map(S),v.value=t.data.total_results}}catch(a){console.error("获取电影列表失败:",a),D.error("获取电影列表失败")}finally{u.value=!1}},h=a=>{n.value=a,l.value=1,c()},C=a=>{l.value=a,c()};return N(()=>{c()}),(a,t)=>{const x=d("el-radio-button"),w=d("el-radio-group"),M=d("el-pagination"),V=z("loading");return s(),r("div",j,[m("div",A,[p(w,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),onChange:h},{default:y(()=>[(s(),r(f,null,k(_,e=>p(x,{key:e.key,label:e.key},{default:y(()=>[U(F(e.label),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),P((s(),r("div",I,[(s(!0),r(f,null,k(g.value,e=>(s(),R(T,{key:e.id,media:e},null,8,["media"]))),128))])),[[V,u.value]]),m("div",L,[p(M,{"current-page":l.value,"onUpdate:currentPage":t[1]||(t[1]=e=>l.value=e),"page-size":b.value,total:v.value,layout:"prev, pager, next",onCurrentChange:C},null,8,["current-page","page-size","total"])])])}}},O=B(q,[["__scopeId","data-v-67d8864c"]]);export{O as default};
